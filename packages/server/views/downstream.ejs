<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Downstream MCPs - MCP Ambassador</title>
  <link rel="stylesheet" href="/vendor/pico.min.css">
  <link rel="stylesheet" href="/css/admin.css">
  <script src="/vendor/htmx.min.js"></script>
</head>
<body>
  <div class="admin-layout">
    <%- include('partials/nav') %>
    
    <main class="admin-content">
      <%- include('partials/flash') %>
      
      <h1>Downstream MCP Servers</h1>
      
      <div style="margin-bottom: 1.5rem; padding: 1rem; background-color: var(--pico-card-background-color); border-radius: 0.25rem;">
        <h2 style="margin-top: 0;">Summary</h2>
        <div style="display: flex; gap: 2rem;">
          <div>
            <strong>Total Connections:</strong> <%= summary.totalConnections %>
          </div>
          <div>
            <strong>Healthy:</strong> <%= summary.healthyConnections %>
          </div>
          <div>
            <strong>Total Tools:</strong> <%= summary.totalTools %>
          </div>
        </div>
      </div>
      
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Status</th>
            <th>Tool Count</th>
          </tr>
        </thead>
        <tbody>
          <% if (mcpStatus.length === 0) { %>
            <tr><td colspan="3">No downstream MCPs configured</td></tr>
          <% } else { %>
            <% mcpStatus.forEach(mcp => { %>
              <tr>
                <td><%= mcp.name %></td>
                <td><%= mcp.status %></td>
                <td><%= mcp.toolCount || 0 %></td>
              </tr>
            <% }) %>
          <% } %>
        </tbody>
      </table>
      
      <p><small>Note: Downstream MCP configuration is managed via server config file.</small></p>
    </main>
  </div>
</body>
</html>
